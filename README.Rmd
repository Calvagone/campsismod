---
pagetitle: "CAMPSIS model"
date: ""
author: ""
output: github_document
---

<!-- badges: start -->
[![R-CMD-check](https://github.com/Calvagone/campsismod/workflows/R-CMD-check/badge.svg)](https://github.com/Calvagone/campsismod/actions)
<!-- badges: end -->
  
# campsismod
Generic implementation of a drug model in pharmacometrics.

## Installation
Install the latest stable release with the authentication token you have received:
  
```{r, eval=FALSE}
devtools::install_github("Calvagone/campsismod", ref="release", auth_token="AUTH_TOKEN", force=TRUE)
```

## Some examples

### Load example from model library

First import the `campsismod` package:

```{r, message=FALSE}
library(campsismod)
```

Load 2-compartment MAIN model from built-in model library and show content:

```{r}
model <- getNONMEMModelTemplate(advan=4, trans=4)
show(model)
```

Show all methods than can be called on the parameters object:

```{r}
methods(class=class(model@parameters))
```

Retrieve parameter by index:

```{r}
theta <- model@parameters %>% getByIndex(Theta(index=1))
show(theta)

omega <- model@parameters %>% getByIndex(Omega(index=2, index2=2))
show(omega)
```

Retrieve parameter by name:

```{r}
theta <- model@parameters %>% getByName("THETA_KA")
show(theta)
```

Select parameters by type:

```{r}
thetas <- model@parameters %>% select("theta")
show(thetas)
```

### Write PMX model

```{r}
model %>% write(file="readme_tmp")
list.files("readme_tmp")
```

### Read PMX model

```{r}
model <- read.pmxmod(file="readme_tmp")
show(model)
```

### Export PMX model to RxODE

```{r}
rxmod <- model %>% export(dest="RxODE")
rxmod@theta
rxmod@omega
rxmod@sigma
```
